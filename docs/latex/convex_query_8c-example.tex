\hypertarget{convex_query_8c-example}{}\doxysection{convex\+\_\+query.\+c}
Example query\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include<\mbox{\hyperlink{convex_8h}{convex.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    \textcolor{comment}{// create a new convex data handle.}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__t}{convex\_p}} convex = \mbox{\hyperlink{convex_8c_adf33d00bef632f0cdcffc9c692f25f7f}{convex\_init}}(\textcolor{stringliteral}{"{}https://convex.world"{}});}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!convex) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot start convex client\(\backslash\)n"{}});}
\DoxyCodeLine{        \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// call a query , if no account number is given (<=0) it defaults to 9.}}
\DoxyCodeLine{    \textcolor{keywordtype}{int} result = \mbox{\hyperlink{convex_8c_a230377b361e81756f34b17a182deb8c9}{convex\_query}}(convex, \textcolor{stringliteral}{"{}*balance*"{}}, 0L);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (result != \mbox{\hyperlink{convex__error_8h_a94374ed1d4dc12ad86f38eddcfa399aa}{CONVEX\_OK}}) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_query returned an error \%d\(\backslash\)n"{}}, result);}
\DoxyCodeLine{        \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// check to see if a valid response has returned}}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{convex_8c_aac1ea93dd8059eadb4ec14c5d88918ed}{convex\_is\_response}}(convex) \&\& \mbox{\hyperlink{convex_8c_abcd5e914730a3586d86474f5d93bd507}{convex\_response\_get\_code}}(convex) == 200) \{}
\DoxyCodeLine{        \textcolor{comment}{// print out the query response}}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_query result: \%s\(\backslash\)n"{}}, \mbox{\hyperlink{convex_8c_a95cb809be85f82ba33a3dc85c1b23f22}{convex\_response\_get\_data}}(convex));}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// clear and close the convex data.}}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{convex_8h}{convex.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    \textcolor{comment}{// create a new convex data handle.}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__t}{convex\_p}} convex = \mbox{\hyperlink{convex_8c_adf33d00bef632f0cdcffc9c692f25f7f}{convex\_init}}(\textcolor{stringliteral}{"{}https://convex.world"{}});}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!convex) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot start convex client\(\backslash\)n"{}});}
\DoxyCodeLine{        \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// call a query , if no account number is given (<=0) it defaults to 9.}}
\DoxyCodeLine{    \textcolor{keywordtype}{int} result = \mbox{\hyperlink{convex_8c_a230377b361e81756f34b17a182deb8c9}{convex\_query}}(convex, \textcolor{stringliteral}{"{}*balance*"{}}, 0L);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (result != \mbox{\hyperlink{convex__error_8h_a94374ed1d4dc12ad86f38eddcfa399aa}{CONVEX\_OK}}) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_query returned an error \%d\(\backslash\)n"{}}, result);}
\DoxyCodeLine{        \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// check to see if a valid response has returned}}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{convex_8c_aac1ea93dd8059eadb4ec14c5d88918ed}{convex\_is\_response}}(convex) \&\& \mbox{\hyperlink{convex_8c_abcd5e914730a3586d86474f5d93bd507}{convex\_response\_get\_code}}(convex) == 200) \{}
\DoxyCodeLine{        \textcolor{comment}{// print out the query response}}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_query result: \%s\(\backslash\)n"{}}, \mbox{\hyperlink{convex_8c_a95cb809be85f82ba33a3dc85c1b23f22}{convex\_response\_get\_data}}(convex));}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// clear and close the convex data.}}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 