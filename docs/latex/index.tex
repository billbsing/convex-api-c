This libary provides access to the convex network.

This library uses the following dependent libararies\+:


\begin{DoxyItemize}
\item openssl
\item libcurl
\end{DoxyItemize}

See {\ttfamily \mbox{\hyperlink{convex_8c}{convex.\+c}}} and {\ttfamily \mbox{\hyperlink{convex__account_8c}{convex\+\_\+account.\+c}}} for the API documentation.

See an example of using the convex-\/api-\/c library\+:\hypertarget{index_autotoc_md0}{}\doxysubsection{Examples}\label{index_autotoc_md0}
\hypertarget{index_autotoc_md1}{}\doxysubsubsection{Example\+: Query the network}\label{index_autotoc_md1}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{convex_8h}{convex.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{ * Example to do a basic convex\_query}}
\DoxyCodeLine{\textcolor{comment}{ *}}
\DoxyCodeLine{\textcolor{comment}{ */}}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    \textcolor{comment}{// create a new convex data handle.}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__t}{convex\_p}} convex = \mbox{\hyperlink{convex_8c_adf33d00bef632f0cdcffc9c692f25f7f}{convex\_init}}(\textcolor{stringliteral}{"{}https://convex.world"{}});}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!convex) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot start convex client\(\backslash\)n"{}});}
\DoxyCodeLine{        \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// call a query , if no account number is given (<=0) it defaults to 9.}}
\DoxyCodeLine{    \textcolor{keywordtype}{int} result = \mbox{\hyperlink{convex_8c_a255dbb62afb31a98fd25d1e0219e444e}{convex\_query}}(convex, \textcolor{stringliteral}{"{}*balance*"{}}, 0L);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (result != \mbox{\hyperlink{convex__error_8h_a94374ed1d4dc12ad86f38eddcfa399aa}{CONVEX\_OK}}) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_query returned an error \%d\(\backslash\)n"{}}, result);}
\DoxyCodeLine{        \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// check to see if a valid response has returned}}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{convex_8c_ab80e41731b0ca6fed123d09e7c0607f0}{convex\_is\_response}}(convex) \&\& \mbox{\hyperlink{convex_8c_aafc594fac1ea090783d9def97f5142ea}{convex\_response\_get\_code}}(convex) == 200) \{}
\DoxyCodeLine{        \textcolor{comment}{// print out the query response}}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_query result: \%s\(\backslash\)n"{}}, \mbox{\hyperlink{convex_8c_a6617f791a515f3e3ae2a7d8d9c3ed916}{convex\_response\_get\_data}}(convex));}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// clear and close the convex data.}}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
\hypertarget{index_autotoc_md2}{}\doxysubsubsection{Example\+: Generate a new keypair, create an account and save the keys to an encrypted file}\label{index_autotoc_md2}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{convex_8h}{convex.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{ * Example to create an account and export the key}}
\DoxyCodeLine{\textcolor{comment}{ *}}
\DoxyCodeLine{\textcolor{comment}{ */}}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} result;}
\DoxyCodeLine{    \textcolor{comment}{// create a new convex data handle.}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__t}{convex\_p}} convex = \mbox{\hyperlink{convex_8c_adf33d00bef632f0cdcffc9c692f25f7f}{convex\_init}}(\textcolor{stringliteral}{"{}https://convex.world"{}});}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!convex) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot start convex client\(\backslash\)n"{}});}
\DoxyCodeLine{        \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// create a new account}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__account__t}{convex\_account\_p}} account = convex\_accoount\_init();}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8h_a9bef0f56c5c02f15f8ef8da4ad89ee71}{address\_t}} address;}
\DoxyCodeLine{    result = \mbox{\hyperlink{convex_8c_a44feb4667f96fe46f541303961e42f35}{convex\_create\_account}}(convex, account, \&address);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (result != \mbox{\hyperlink{convex__error_8h_a94374ed1d4dc12ad86f38eddcfa399aa}{CONVEX\_OK}}) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot create a new account address\(\backslash\)n"{}});}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    printf(\textcolor{stringliteral}{"{}create a new account address \%d\(\backslash\)n"{}}, address);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// save the account keys as a encrypted pem file}}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *password = \textcolor{stringliteral}{"{}secret"{}};}
\DoxyCodeLine{    FILE *fp = fopen(\textcolor{stringliteral}{"{}my\_account\_key.pem"{}}, \textcolor{stringliteral}{"{}w+"{}});}
\DoxyCodeLine{    result = \mbox{\hyperlink{convex__account_8c_af625dd6b491373f17cc62769532f34d3}{convex\_account\_export\_to\_file}}(account, password, fp);}
\DoxyCodeLine{    fclose(fp);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// clear and close the convex data.}}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
\hypertarget{index_autotoc_md3}{}\doxysubsubsection{Example\+: Send a transaction to the network using an account and keypair}\label{index_autotoc_md3}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{convex_8h}{convex.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{ * Example to send a transaction}}
\DoxyCodeLine{\textcolor{comment}{ *}}
\DoxyCodeLine{\textcolor{comment}{ */}}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} result;}
\DoxyCodeLine{    \textcolor{comment}{// create a new convex data handle.}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__t}{convex\_p}} convex = \mbox{\hyperlink{convex_8c_adf33d00bef632f0cdcffc9c692f25f7f}{convex\_init}}(\textcolor{stringliteral}{"{}https://convex.world"{}});}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!convex) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot start convex client\(\backslash\)n"{}});}
\DoxyCodeLine{        \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// see example\_convex\_account.c on how to create a new account key and address}}
\DoxyCodeLine{    \textcolor{comment}{// load the account key from an encrypted pem file}}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *password = \textcolor{stringliteral}{"{}secret"{}};}
\DoxyCodeLine{    FILE *fp = fopen(\textcolor{stringliteral}{"{}my\_account\_key.pem"{}}, \textcolor{stringliteral}{"{}w+"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// create a new account}}
\DoxyCodeLine{    \mbox{\hyperlink{structconvex__account__t}{convex\_account\_p}} account = \mbox{\hyperlink{convex__account_8c_a846b1b462501b584dc1004656575414e}{convex\_account\_init\_from\_file}}(fp, password);}
\DoxyCodeLine{    fclose(fp);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} ( !account) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}cannot open account key\(\backslash\)n"{}});}
\DoxyCodeLine{        \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// see example\_convex\_account.c on how to create a new account address}}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8h_a9bef0f56c5c02f15f8ef8da4ad89ee71}{address\_t}} address = 42;}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *transaction = \textcolor{stringliteral}{"{}(map inc [1 2 3 4 5])"{}};}
\DoxyCodeLine{    result = \mbox{\hyperlink{convex_8c_a2a325df60487392214e08959e2faf4ee}{convex\_send}}(convex, transaction, account, address);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (result != \mbox{\hyperlink{convex__error_8h_a94374ed1d4dc12ad86f38eddcfa399aa}{CONVEX\_OK}}) \{}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_send returned an error \%d\(\backslash\)n"{}}, result);}
\DoxyCodeLine{        \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// check to see if a valid response has returned}}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{convex_8c_ab80e41731b0ca6fed123d09e7c0607f0}{convex\_is\_response}}(convex) \&\& \mbox{\hyperlink{convex_8c_aafc594fac1ea090783d9def97f5142ea}{convex\_response\_get\_code}}(convex) == 200) \{}
\DoxyCodeLine{        \textcolor{comment}{// print out the query response}}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}convex\_send result: \%s\(\backslash\)n"{}}, \mbox{\hyperlink{convex_8c_a6617f791a515f3e3ae2a7d8d9c3ed916}{convex\_response\_get\_data}}(convex));}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// clear and close the convex data.}}
\DoxyCodeLine{    \mbox{\hyperlink{convex_8c_ab4794ee804175fa6877d1c93c32dca52}{convex\_close}}(convex);}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 